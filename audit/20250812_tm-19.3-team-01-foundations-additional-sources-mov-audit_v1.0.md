---
title: "MOV Audit — tm-19.3 (Foundations Additional Sources)"
doc_kind: audit
team: team-01
team_name: foundations
author: AI-Auditeur
version: 1.0
status: reviewed
tm_ids: [19.3]
scope: additional-sources (texte) + idempotency
related_files:
  - orchestrator/src/app.ts
  - orchestrator/test/contract/additional-sources.test.ts
  - orchestrator/test/contract/idempotency-additional-sources.test.ts
---

## Résumé
- Additional-sources (texte): flux websites/copié-texte conforme; stockage `.txt` pour traçabilité et indexation identique au document.
- Idempotency: replays avec même `Idempotency-Key` retournent la même réponse sans répéter l'indexation.

## Preuves (#TEST)
#TEST: orchestrator/test/contract/additional-sources.test.ts
#TEST: orchestrator/test/contract/idempotency-additional-sources.test.ts

## Constats détaillés
- Le test `additional-sources.test.ts` couvre l'upload `.txt` et l'indexation.
- Le test `idempotency-additional-sources.test.ts` démontre la non-duplication des side-effects sur replays.

## Exemples de logs (anonymisés)
```json
{"event":"EXTRACT_COMPLETE","correlation_id":"req-101","extract_duration_ms":0}
{"event":"EMBED_COMPLETE","correlation_id":"req-101","embed_duration_ms":0,"chunks":1}
{"event":"UPSERT_COMPLETE","correlation_id":"req-101","upsert_duration_ms":0,"count":1}
{"level":30,"route":"/webhook/process-additional-sources","method":"POST","headers":{"authorization":"[REDACTED]"},"msg":"request complete"}
```

## Conclusion
- Le claim MOV 19.3 est conforme aux exigences (texte + idempotency) et prêt pour revue finale.

## Limitations
- Les tests s'appuient sur des mocks locaux pour le stockage; un test bout-en-bout réel nécessiterait un service de storage accessible.
